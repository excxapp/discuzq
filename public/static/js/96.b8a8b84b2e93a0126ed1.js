(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{k2Pg:function(e,t,n){"use strict";n.r(t);var r=n("m5VE"),o=n("lqGl");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("KHd+"),s=Object(a.a)(o.default,r.a,r.b,!1,null,null,null);t.default=s.exports},lqGl:function(e,t,n){"use strict";n.r(t);var r=n("q313"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=o.a},m5VE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Card",{attrs:{header:e.query.typeName}}),e._v(" "),"system"===e.query.type?n("Card",{attrs:{header:"用户角色通知标题："}},[n("CardRow",{attrs:{description:"系统发送的信息标题，不支持HTML，不超过75字节"}},[n("el-input",{attrs:{type:"text",maxlength:"75"},model:{value:e.noticeTitle,callback:function(t){e.noticeTitle=t},expression:"noticeTitle"}})],1)],1):e._e(),e._v(" "),"system"===e.query.type?n("Card",{attrs:{header:"用户角色通知内容："}},[n("CardRow",{attrs:{row:"",description:"系统发送的信息内容，标题内容均支持变量替换，可以使用如下变量:<br>\n                  {username}：用户名\n                  {groupname} ：所属用户组\n                  {time}：发送时间\n                  {sitename}：网站名称（显示在页面底部的联系方式名称）\n                  {bbname}：站点名称（显示在浏览器窗口标题等位置的名称）\n                  {adminemail}：管理员Email\n                  {content}：内容\n                  {reason}：原因"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},clearable:""},model:{value:e.noticeContent,callback:function(t){e.noticeContent=t},expression:"noticeContent"}})],1)],1):e._e(),e._v(" "),"wx"===e.query.type?n("Card",{attrs:{header:"模板ID"}},[n("CardRow",{attrs:{row:"",description:e.wxNoticeDescription[e.query.id]}},[n("el-input",{attrs:{type:"text",maxlength:"75"},model:{value:e.wxNoticeCon,callback:function(t){e.wxNoticeCon=t},expression:"wxNoticeCon"}})],1)],1):e._e(),e._v(" "),n("Card",{staticClass:"footer-btn"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.Submission}},[e._v("提交")])],1)],1)},o=[]},q313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("QbLZ"));n("lpfh");var o=i(n("wu2b"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)({name:"notice-configure-view"},o.default)},wu2b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("4gYi")),o=i(n("pNQN"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{noticeTitle:"",noticeContent:"",query:"",wxNoticeDescription:{13:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n用户名：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{{remark.DATA}}\n",14:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n用户名：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{remark.DATA}}",15:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n用户名：{{keyword1.DATA}}\n原因：{{keyword2.DATA}}\n{{remark.DATA}}",16:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n内容：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{remark.DATA}}",17:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n内容：{{keyword1.DATA}}\n原因：{{keyword2.DATA}}\n时间：{{keyword3.DATA}}\n{{remark.DATA}}",18:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n内容：{{keyword1.DATA}}\n原因：{{keyword2.DATA}}\n时间：{{keyword3.DATA}}\n{{remark.DATA}}",19:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n内容：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{remark.DATA}}",20:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n内容：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{remark.DATA}}",21:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n内容：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{remark.DATA}}",22:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n用户名：{{keyword1.DATA}}\n原因：{{keyword2.DATA}}\n时间：{{keyword3.DATA}}\n{{remark.DATA}}",23:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n用户名：{{keyword1.DATA}}\n时间：{{keyword2.DATA}}\n{{remark.DATA}}",24:"请在“微信公众号-模板消息”中按照以下格式添加模版，并填写审核通过后的模板ID。<br>\n{{first.DATA}}\n用户名：{{keyword1.DATA}}\n原角色：{{keyword2.DATA}}\n新角色：{{keyword2.DATA}}\n{{remark.DATA}}"},wxNoticeCon:""}},components:{Card:r.default,CardRow:o.default},created:function(){this.query=this.$route.query,this.noticeConfigure()},methods:{noticeConfigure:function(){var e=this;this.appFetch({url:"noticeConfigure",method:"get",splice:this.query.id,data:{}}).then((function(t){e.noticeTitle=t.readdata._data.title,e.noticeContent=t.readdata._data.content,e.wxNoticeCon=t.readdata._data.template_id}))},Submission:function(){var e=this,t={};"system"===this.query.type?t={attributes:{title:this.noticeTitle,content:this.noticeContent}}:"wx"===this.query.type&&(t={attributes:{template_id:this.wxNoticeCon}}),this.appFetch({url:"notification",method:"patch",splice:this.query.id,data:{data:t}}).then((function(t){t.errors?e.$message.error(t.errors[0].code):(e.$message({message:"提交成功",type:"success"}),e.noticeConfigure())}))}}}}}]);